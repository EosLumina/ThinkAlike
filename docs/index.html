<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThinkAlike Onboarding Guide</title>
    <style>
        body { font-family: sans-serif; display: flex; }
        #sidebar { min-height: 100vh; overflow-y: auto; width: 250px; background-color: #f8f9fa; border-right: 1px solid #dee2e6; padding: 10px; }
        #content { padding: 20px; flex-grow: 1; }
        .nav-link { cursor: pointer; padding: .5rem 1rem; color: #007bff; display: block; margin-bottom: 5px; text-decoration: none; }
        .nav-link:hover { background-color: #e9ecef; }
        .nav-link.active { background-color: #007bff; color: white; }
        .section-content { display: none; }
    </style>
</head>
<body>
    <div id="sidebar">
        <a class="nav-link" data-section="overview">Overview</a>
        <!-- Add more links as needed -->
    </div>
    <main id="content"></main>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        $(document).ready(function() {
            // Function to load and render Markdown content
            function loadMarkdown(file, callback) {
                $.get(file, function(data) {
                    callback(data);
                });
            }

            // Function to parse and render sections
            function renderSections(markdown) {
                const sections = markdown.split('## ').slice(1);
                sections.forEach(section => {
                    const lines = section.split('\n');
                    const title = lines[0].trim();
                    const content = lines.slice(1).join('\n');
                    const htmlContent = marked(content);
                    const sectionId = title.toLowerCase().replace(/\s+/g, '-');
                    $('#content').append(`<div id="${sectionId}" class="section-content">${htmlContent}</div>`);
                    $('#sidebar').append(`<a class="nav-link" data-section="${sectionId}">${title}</a>`);
                });

                // Initialize Mermaid
                mermaid.init();

                // Show the default section
                showSection('overview');
            }

            // Function to show a section
            function showSection(sectionId) {
                $('.section-content').hide();
                $(`#${sectionId}`).show();
                $('.nav-link').removeClass('active');
                $(`.nav-link[data-section="${sectionId}"]`).addClass('active');
            }

            // Load and render the onboarding guide
            loadMarkdown('ONBOARDING_GUIDE.md', renderSections);

            // Handle sidebar link clicks
            $('#sidebar').on('click', '.nav-link', function() {
                const sectionId = $(this).data('section');
                showSection(sectionId);
            });
        });
    </script>
</body>
</html>
